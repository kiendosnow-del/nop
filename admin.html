<script>
firebase.auth().onAuthStateChanged(async user=>{
  if(!user){
    alert("Chưa đăng nhập!");
    location.href="index.html";
    return;
  }

  const doc = await firebase.firestore()
    .collection("users")
    .doc(user.uid).get();

  if(doc.data().role !== "admin"){
    alert("❌ Không có quyền!");
    location.href="index.html";
  }
});
</script>
