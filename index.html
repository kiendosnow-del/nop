<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>â„ï¸ SNOW | Shop CÃ y ThuÃª Blox Fruits</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#020617;color:#e5e7eb}
header{background:linear-gradient(135deg,#1e90ff,#2563eb);padding:14px;text-align:center}
.container{max-width:520px;margin:auto;padding:14px}
.card{background:#020617;border:1px solid #1e293b;border-radius:14px;padding:14px;margin-bottom:14px}
input,select,textarea,button{width:100%;padding:11px;margin:6px 0;border-radius:10px;border:1px solid #334155;background:#020617;color:#fff}
button{background:linear-gradient(135deg,#38bdf8,#2563eb);border:none;font-weight:bold}
.hide{display:none}
.log{border-bottom:1px dashed #334155;padding:6px 0;font-size:14px}
.price{color:#38bdf8;font-weight:bold}
.admin{border:1px solid #facc15}
optgroup{color:#38bdf8}
.topbar{display:flex;justify-content:space-between;align-items:center}
.logout{background:#ef4444;margin-top:8px}
.bank-box{background:#020617;border:1px dashed #38bdf8;border-radius:12px;padding:10px;font-size:14px}
.bank-box b{color:#38bdf8}
</style>
</head>

<body>
<header>
<div class="topbar">
<h3>â„ï¸ SNOW â€“ BLOX FRUITS</h3>
<button class="logout hide" id="logoutBtn" onclick="logout()">ÄÄƒng xuáº¥t</button>
</div>
<div id="userBox" class="hide">ğŸ‘¤ <b id="uname"></b> | ğŸ’° <b id="wallet"></b></div>
</header>

<div class="container">

<!-- LOGIN -->
<div class="card" id="loginBox">
<input id="lu" placeholder="TÃ i khoáº£n">
<input id="lp" type="password" placeholder="Máº­t kháº©u">
<button onclick="login()">ÄÄƒng nháº­p</button>
<button onclick="register()">ÄÄƒng kÃ½</button>
<button onclick="adminLogin()">Admin</button>
</div>

<!-- USER -->
<div id="userArea" class="hide">

<!-- Äáº¶T ÄÆ N -->
<div class="card">
<h3>ğŸ›’ Äáº¶T ÄÆ N CÃ€Y THUÃŠ</h3>
<select id="goi">
<option value="">-- Chá»n gÃ³i --</option>

<optgroup label="ğŸ”° LEVEL">
<option value="700 â†’ 1500|20000">700 â†’ 1500 (20k)</option>
<option value="1500 â†’ 2800|20000">1500 â†’ 2800 (20k)</option>
<option value="0 â†’ MAX|50000">0 â†’ MAX (50k)</option>
</optgroup>

<optgroup label="ğŸ’ ITEM">
<option value="Má» Neo|20000">Má» Neo (20k)</option>
<option value="Tushita|15000">Tushita (15k)</option>
<option value="Yama|30000">Yama (30k)</option>
<option value="Tam Kiáº¿m Láº»|20000">Tam Kiáº¿m Láº» (20k)</option>
<option value="Tam Kiáº¿m Full|35000">Tam Kiáº¿m Full (35k)</option>
<option value="CDK|30000">CDK (30k)</option>
</optgroup>

<optgroup label="ğŸ’  UP V4">
<option value="Full Gear|30000">Full Gear (30k)</option>
<option value="Gáº¡t Cáº§n|20000">Gáº¡t Cáº§n (20k)</option>
<option value="Máº£nh GÆ°Æ¡ng|20000">Máº£nh GÆ°Æ¡ng (20k)</option>
<option value="1 Gear|5000">1 Gear (5k)</option>
</optgroup>

<optgroup label="ğŸ¥‹ MELEE">
<option value="Godhuman|20000">Godhuman (20k)</option>
<option value="Melee V2|15000">Melee V2 (15k)</option>
</optgroup>
</select>

<div class="price" id="price">0Ä‘</div>
<input id="rbx" placeholder="Roblox Username">
<textarea id="note" placeholder="Ghi chÃº"></textarea>
<button onclick="buy()">Gá»­i Ä‘Æ¡n</button>
</div>

<!-- Náº P THáºº -->
<div class="card">
<h3>ğŸ’³ Náº P THáºº (THESIEURE AUTO)</h3>
<select id="telco">
<option value="VIETTEL">Viettel</option>
<option value="MOBIFONE">Mobifone</option>
<option value="VINAPHONE">Vinaphone</option>
</select>
<input id="seri" placeholder="Seri">
<input id="code" placeholder="MÃ£ tháº»">
<select id="menhgia">
<option value="10000">10.000</option>
<option value="20000">20.000</option>
<option value="50000">50.000</option>
</select>
<button onclick="napThe()">Náº¡p tháº»</button>
</div>

<!-- Náº P BANK CHI TIáº¾T -->
<div class="card">
<h3>ğŸ¦ Náº P BANK (Tá»° Äá»˜NG + NHANH)</h3>

<div class="bank-box">
<b>NgÃ¢n hÃ ng:</b> MB Bank<br>
<b>STK:</b> 0123456789<br>
<b>Chá»§ TK:</b> NGUYEN VAN A<br>
<b>Ná»™i dung:</b> <span style="color:#22c55e">SNOW + TÃ€I KHOáº¢N</span>
</div>

<input id="bankAmount" placeholder="Sá»‘ tiá»n Ä‘Ã£ chuyá»ƒn">
<input id="bankNote" placeholder="Ná»™i dung báº¡n Ä‘Ã£ chuyá»ƒn">
<button onclick="napBank()">TÃ´i Ä‘Ã£ chuyá»ƒn khoáº£n</button>
</div>

<!-- Lá»ŠCH Sá»¬ -->
<div class="card">
<h3>ğŸ“œ Lá»ŠCH Sá»¬ GIAO Dá»ŠCH</h3>
<div id="his"></div>
</div>

</div>

<!-- ADMIN -->
<div id="adminArea" class="hide">
<div class="card admin">
<h3>ğŸ“Š LOG Há»† THá»NG</h3>
<div id="all"></div>
</div>
</div>

</div>

<script>
let users = JSON.parse(localStorage.users||"{}");
let logs  = JSON.parse(localStorage.logs||"[]");
let user  = localStorage.user || "";

goi.onchange=()=>price.innerText=goi.value?Number(goi.value.split('|')[1]).toLocaleString()+"Ä‘":"0Ä‘";

function save(){
localStorage.users=JSON.stringify(users);
localStorage.logs=JSON.stringify(logs);
}

function login(){
if(!users[lu.value]||users[lu.value].pass!==lp.value) return alert("Sai");
user=lu.value;localStorage.user=user;initUser();
}

function register(){
users[lu.value]={pass:lp.value,wallet:0};
save();alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng");
}

function logout(){
localStorage.removeItem("user");
location.reload();
}

function adminLogin(){
if(lu.value==="admin"&&lp.value==="admin123"){
loginBox.classList.add("hide");
adminArea.classList.remove("hide");
all.innerHTML=logs.map(l=>"<div class=log>"+l+"</div>").join("");
}
}

function initUser(){
loginBox.classList.add("hide");
userArea.classList.remove("hide");
userBox.classList.remove("hide");
logoutBtn.classList.remove("hide");
uname.innerText=user;
wallet.innerText=users[user].wallet.toLocaleString()+"Ä‘";
loadHistory();
}

function buy(){
let [ten,gia]=goi.value.split('|');
gia=Number(gia);
if(users[user].wallet<gia) return alert("KhÃ´ng Ä‘á»§ tiá»n");
users[user].wallet-=gia;
logs.push("ğŸ§Š ÄÆ N | "+user+" | "+ten+" | "+gia);
save();loadHistory();
}

function napThe(){
fetch("thesieure.php",{
method:"POST",
headers:{'Content-Type':'application/json'},
body:JSON.stringify({
user:user,
telco:telco.value,
code:code.value,
serial:seri.value,
amount:menhgia.value
})
}).then(r=>r.json()).then(d=>{
if(d.status==="success"){
users[user].wallet+=Number(d.amount);
logs.push("ğŸ’³ Náº P THáºº | "+user+" | +"+d.amount);
save();loadHistory();
alert("Náº¡p thÃ nh cÃ´ng");
}else alert(d.msg);
});
}

function napBank(){
logs.push("ğŸ¦ BANK | "+user+" | "+bankAmount.value+" | "+bankNote.value);
save();loadHistory();
alert("ÄÃ£ ghi nháº­n â€“ admin sáº½ cá»™ng tiá»n");
}

function loadHistory(){
his.innerHTML="";
logs.filter(l=>l.includes(user)).reverse().forEach(l=>{
his.innerHTML+="<div class=log>"+l+"</div>";
});
}

if(user) initUser();
</script>
</body>
</html>
