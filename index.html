<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>â„ï¸ SNOW SHOP | CÃ y ThuÃª Blox Fruits</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{
--bg:#0b1220;--card:#111827;--main:#38bdf8;--vip:#facc15;
--text:#e5e7eb;--muted:#9ca3af}
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:var(--bg);color:var(--text)}
header{padding:18px;text-align:center;background:linear-gradient(135deg,#0284c7,#2563eb)}
nav{display:flex;justify-content:space-around;background:#020617;padding:10px;flex-wrap:wrap}
nav button{background:none;border:none;color:#fff;font-weight:bold}
.container{max-width:520px;margin:auto;padding:12px}
.card{background:var(--card);border-radius:16px;padding:14px;margin-bottom:14px}
h3{color:var(--main)}
input,select,textarea,button{
width:100%;padding:11px;margin:6px 0;border-radius:12px;border:none}
input,select,textarea{background:#020617;color:#fff}
button{background:var(--main);font-weight:bold;cursor:pointer}
.hidden{display:none}
.vip{background:linear-gradient(135deg,#facc15,#eab308);color:#000}
.log{font-size:13px;border-bottom:1px dashed #334155;padding:6px 0}
.small{font-size:12px;color:#9ca3af}
.pending{background:#020617;padding:8px;border-radius:10px;margin-bottom:8px}
</style>
</head>

<body>

<header>
<h1>â„ï¸ SNOW SHOP</h1>
<div>ğŸ‘¤ <b id="userLabel">ChÆ°a Ä‘Äƒng nháº­p</b></div>
<div>ğŸ’° VÃ­: <b id="sodu">0</b>Ä‘</div>
</header>

<nav>
<button onclick="tab('account')">ğŸ‘¤ TÃ i khoáº£n</button>
<button onclick="tab('shop')">ğŸ›’ ThuÃª cÃ y</button>
<button onclick="tab('nap')">ğŸ’³ Náº¡p tiá»n</button>
<button onclick="tab('gift')">ğŸ Gift</button>
<button onclick="tab('lichsu')">ğŸ“œ Lá»‹ch sá»­</button>
<button onclick="tab('admin')">ğŸ” Admin</button>
</nav>

<div class="container">

<!-- ACCOUNT -->
<div id="account" class="card">
<h3>ğŸ‘¤ TÃ€I KHOáº¢N</h3>
<div id="authBox">
<input id="acc_user" placeholder="TÃªn Ä‘Äƒng nháº­p">
<input id="acc_pass" type="password" placeholder="Máº­t kháº©u">
<button onclick="loginAcc()">ğŸ” ÄÄƒng nháº­p</button>
<button onclick="registerAcc()">ğŸ“ ÄÄƒng kÃ½</button>
</div>
<div id="logoutBox" class="hidden">
<p>âœ… ÄÃ£ Ä‘Äƒng nháº­p: <b id="accName"></b></p>
<button onclick="logout()">ğŸšª ÄÄƒng xuáº¥t</button>
</div>
</div>

<!-- SHOP -->
<div id="shop" class="card hidden">
<h3>ğŸ›’ THUÃŠ CÃ€Y BLOX FRUITS</h3>
<input id="ten" placeholder="TÃªn Roblox / Discord">
<input id="login" placeholder="Login Roblox">

<select id="goi">
<option value="">-- Chá»n gÃ³i --</option>

<optgroup label="ğŸ”° LEVEL">
<option value="Level 700|20000" data-info="Farm nhanh lÃªn level 700">Level 700 â€“ 20.000Ä‘</option>
<option value="700 â†’ 1500|20000" data-info="Farm tá»« 700 lÃªn 1500">700 â†’ 1500 â€“ 20.000Ä‘</option>
<option value="1500 â†’ 2800|20000" data-info="Farm Sea 3">1500 â†’ 2800 â€“ 20.000Ä‘</option>
<option value="0 â†’ MAX|50000" data-info="CÃ y tá»« Ä‘áº§u tá»›i max level">0 â†’ MAX â€“ 50.000Ä‘</option>
</optgroup>

<optgroup label="ğŸ’ ITEM">
<option value="Má» Neo|20000" data-info="LÃ m Má» Neo">Má» Neo â€“ 20.000Ä‘</option>
<option value="Tushita|15000" data-info="LÃ m kiáº¿m Tushita">Tushita â€“ 15.000Ä‘</option>
<option value="Yama|30000" data-info="LÃ m kiáº¿m Yama">Yama â€“ 30.000Ä‘</option>
<option value="Tam Kiáº¿m Full|35000" data-info="Full 3 kiáº¿m">Tam Kiáº¿m Full â€“ 35.000Ä‘</option>
<option value="CDK|30000" data-info="Cursed Dual Katana">CDK â€“ 30.000Ä‘</option>
</optgroup>

<optgroup label="ğŸ’  UP V4">
<option value="Full Gear|30000" data-info="Full Gear V4">Full Gear â€“ 30.000Ä‘</option>
<option value="1 Gear|5000" data-info="Up 1 Gear">1 Gear â€“ 5.000Ä‘</option>
</optgroup>

<optgroup label="ğŸ¥‹ MELEE">
<option value="Godhuman|20000" data-info="Melee Godhuman">Godhuman â€“ 20.000Ä‘</option>
<option value="Melee V2|15000" data-info="Up Melee V2">Melee V2 â€“ 15.000Ä‘</option>
</optgroup>
</select>

<div id="goiInfo" class="small"></div>
<textarea id="note" placeholder="Ghi chÃº thÃªm"></textarea>
<button onclick="datDon()">ğŸš€ Äáº¶T ÄÆ N</button>
</div>

<!-- NAP -->
<div id="nap" class="card hidden">
<h3>ğŸ’³ Náº P BANK</h3>
<p class="small">MB Bank â€“ 1373727384<br>Ná»™i dung: <b>SNOW + USER</b></p>
<input id="nap_tien" type="number" placeholder="Sá»‘ tiá»n">
<button onclick="nap()">ğŸ“© Gá»­i yÃªu cáº§u</button>
</div>

<!-- GIFT -->
<div id="gift" class="card hidden">
<h3>ğŸ GIFT TIá»€N</h3>
<input id="gift_user" placeholder="TÃ i khoáº£n nháº­n">
<input id="gift_money" type="number" placeholder="Sá»‘ tiá»n">
<button onclick="giftTien()">ğŸ Gá»­i</button>
</div>

<!-- HISTORY -->
<div id="lichsu" class="card hidden">
<h3>ğŸ“œ Lá»ŠCH Sá»¬</h3>
<div id="logs"></div>
</div>

<!-- ADMIN -->
<div id="admin" class="card hidden vip">
<h3>ğŸ” ADMIN</h3>
<input id="pass" placeholder="Máº­t kháº©u admin">
<button onclick="loginAdmin()">ÄÄƒng nháº­p</button>
<div id="adminBox" class="hidden">
<h4>ğŸ’³ DUYá»†T Náº P BANK</h4>
<div id="pendingList"></div>
</div>
</div>

</div>

<script>
/* ====== DISCORD WEBHOOK ====== */
const DISCORD_WEBHOOK = "https://discord.com/api/webhooks/1465766093543964673/QfBdKIbYOgo5_s9S_YaJDF6vg6ZF8RyWwEw06uPZW3YtZuPUjCmODVJfdFmowfH1d9Gm";

function sendDiscord(content){
if(!DISCORD_WEBHOOK) return;
fetch(DISCORD_WEBHOOK,{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
username:"â„ï¸ SNOW SHOP",
content:content
})
});
}

/* ====== CORE ====== */
let users=JSON.parse(localStorage.users||"{}");
let currentUser=localStorage.currentUser||null;
const gid=id=>document.getElementById(id);

function save(){localStorage.users=JSON.stringify(users);}
function tab(id){
["account","shop","nap","gift","lichsu","admin"].forEach(t=>gid(t).classList.add("hidden"));
gid(id).classList.remove("hidden");
}

function loginAcc(){
let u=acc_user.value.trim(),p=acc_pass.value;
if(!users[u]||users[u].pass!==p) return alert("Sai tÃ i khoáº£n");
currentUser=u;localStorage.currentUser=u;loadUser();
}

function registerAcc(){
let u=acc_user.value.trim(),p=acc_pass.value;
if(!u||!p) return alert("Thiáº¿u thÃ´ng tin");
if(users[u]) return alert("TÃ i khoáº£n tá»“n táº¡i");
users[u]={pass:p,sodu:0,logs:[],pending:0};
save();alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng");
}

function logout(){localStorage.removeItem("currentUser");location.reload();}

function loadUser(){
if(!currentUser) return;
let u=users[currentUser];
userLabel.innerText=currentUser;
accName.innerText=currentUser;
authBox.classList.add("hidden");
logoutBox.classList.remove("hidden");
sodu.innerText=u.sodu;
logs.innerHTML=u.logs.map(l=>`<div class="log">${l}</div>`).join("");
}

function datDon(){
if(!currentUser) return alert("Vui lÃ²ng Ä‘Äƒng nháº­p");
if(!goi.value) return alert("ChÆ°a chá»n gÃ³i");
let [name,gia]=goi.value.split("|");gia=+gia;
let u=users[currentUser];
if(u.sodu<gia) return alert("KhÃ´ng Ä‘á»§ tiá»n");
u.sodu-=gia;
u.logs.unshift(`ğŸ›’ ${name} -${gia}Ä‘`);
save();loadUser();

sendDiscord(
`ğŸ›’ **ÄÆ N Má»šI**
ğŸ‘¤ User: **${currentUser}**
ğŸ® Nick: ${ten.value}
ğŸ“¦ GÃ³i: ${name}
ğŸ’° GiÃ¡: ${gia}Ä‘
ğŸ“ Note: ${note.value||"KhÃ´ng cÃ³"}`
);
}

function nap(){
if(!currentUser) return alert("Vui lÃ²ng Ä‘Äƒng nháº­p");
let t=+nap_tien.value;
if(t<=0) return alert("Sá»‘ tiá»n khÃ´ng há»£p lá»‡");
users[currentUser].pending+=t;
users[currentUser].logs.unshift(`â³ Chá» duyá»‡t náº¡p ${t}Ä‘`);
save();loadUser();

sendDiscord(
`ğŸ’³ **YÃŠU Cáº¦U Náº P TIá»€N**
ğŸ‘¤ User: **${currentUser}**
ğŸ’° Sá»‘ tiá»n: ${t}Ä‘
ğŸ“Œ Ná»™i dung CK: SNOW ${currentUser}`
);
alert("ÄÃ£ gá»­i yÃªu cáº§u náº¡p");
}

function giftTien(){
if(!currentUser) return alert("Vui lÃ²ng Ä‘Äƒng nháº­p");
let to=gift_user.value.trim(),m=+gift_money.value;
let from=currentUser;
if(!users[to]) return alert("Nick khÃ´ng tá»“n táº¡i");
if(to===from) return alert("KhÃ´ng thá»ƒ gift cho chÃ­nh mÃ¬nh");
if(m<=0||users[from].sodu<m) return alert("KhÃ´ng Ä‘á»§ tiá»n");
users[from].sodu-=m;
users[to].sodu+=m;
users[from].logs.unshift(`ğŸ Gift ${m}Ä‘ cho ${to}`);
users[to].logs.unshift(`ğŸ Nháº­n ${m}Ä‘ tá»« ${from}`);
save();loadUser();
}

function loginAdmin(){
if(pass.value!=="admin123") return alert("Sai máº­t kháº©u");
adminBox.classList.remove("hidden");
renderPending();
}

function renderPending(){
pendingList.innerHTML="";
for(let u in users){
if(users[u].pending>0){
pendingList.innerHTML+=`
<div class="pending">
<b>${u}</b> â€“ ${users[u].pending}Ä‘
<button onclick="duyetUser('${u}')">âœ”ï¸ Duyá»‡t</button>
</div>`;
}}
}

function duyetUser(u){
let t=users[u].pending;
users[u].pending=0;
users[u].sodu+=t;
users[u].logs.unshift(`âœ… Admin duyá»‡t +${t}Ä‘`);
save();
renderPending();

sendDiscord(`âœ… **DUYá»†T Náº P**
ğŸ‘¤ User: ${u}
ğŸ’° +${t}Ä‘`);
}

goi.addEventListener("change",()=>goiInfo.innerText=
goi.options[goi.selectedIndex].dataset.info||"");

if(currentUser) loadUser();
</script>

</body>
</html>
